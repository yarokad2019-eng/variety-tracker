:root{--bark:#3E2A1C;--bark-mid:#5A4033;--soil:#7A5C3A;--clay:#9F7A4A;--sand:#C8A87A;--linen:#F4EBD8;--cream:#FAF7F0;--parchment:#F0E5D0;--leaf:#486B2A;--leaf-mid:#689040;--moss:#8A9E55;--rust:#B85C2A;--amber:#D4890A;--sky:#2E5F7A;--text:#1E1410;--text-mid:#4A3828;--text-soft:#7A6250;--border:#D8C8A8;--shadow:0 4px 14px rgba(59,42,26,.10);--shadow-lg:0 10px 32px rgba(59,42,26,.18);--r:16px}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
body{font-family:'Assistant',sans-serif;background:var(--cream);color:var(--text);min-height:100vh;padding-bottom:84px;line-height:1.5}
.hdr{background:linear-gradient(155deg,#2A1A0F 0%,var(--bark) 40%,var(--bark-mid) 80%,#6A4A35 100%);padding:20px 18px 18px;color:white;position:sticky;top:0;z-index:100;box-shadow:0 6px 24px rgba(0,0,0,.32)}
.hdr-top{display:flex;justify-content:space-between;align-items:flex-start;gap:10px}
.hdr h1{font-family:'Heebo',sans-serif;font-size:clamp(17px,5vw,24px);font-weight:900;line-height:1.15;letter-spacing:-.3px}
.hdr h1 .ic{font-size:1.2em;margin-left:8px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}
.hdr-sub{font-size:11px;opacity:.72;margin-top:4px;font-weight:500;letter-spacing:.2px}
.hdr-btns{display:flex;gap:7px;flex-shrink:0}
.hbtn{border:none;border-radius:10px;padding:9px 14px;font-size:12px;font-weight:700;font-family:'Heebo',sans-serif;cursor:pointer;display:flex;align-items:center;gap:5px;box-shadow:0 2px 8px rgba(0,0,0,.18)}
.hbtn-add{background:linear-gradient(135deg,var(--rust) 0%,#D4750A 100%);color:white}
.hbtn-exp{background:rgba(255,255,255,.16);color:white;backdrop-filter:blur(4px)}
.stats{display:flex;gap:9px;margin-top:16px;overflow-x:auto;scrollbar-width:none}
.stats::-webkit-scrollbar{display:none}
.stt{background:rgba(255,255,255,.13);border-radius:12px;padding:8px 13px;text-align:center;flex-shrink:0;min-width:62px;backdrop-filter:blur(6px);box-shadow:inset 0 1px 2px rgba(255,255,255,.15)}
.stt-n{font-size:23px;font-weight:900;display:block;line-height:1;font-family:'Heebo',sans-serif}
.stt-l{font-size:10px;opacity:.78;margin-top:3px;font-weight:600;letter-spacing:.3px}
.content{padding:18px 16px 24px;max-width:680px;margin:0 auto}
.srch-wrap{position:relative;margin-bottom:18px}
.srch-wrap input{width:100%;padding:14px 16px 14px 46px;border:2px solid var(--border);border-radius:var(--r);font-size:15px;font-family:'Assistant',sans-serif;background:white;color:var(--text);font-weight:500;box-shadow:0 2px 8px rgba(0,0,0,.06)}
.srch-wrap input:focus{outline:none;border-color:var(--clay);box-shadow:0 4px 14px rgba(0,0,0,.10)}
.srch-wrap input::placeholder{color:var(--text-soft)}
.srch-ic{position:absolute;left:15px;top:50%;transform:translateY(-50%);font-size:19px;opacity:.6;pointer-events:none}
.chips{display:flex;gap:8px;margin-bottom:18px;overflow-x:auto;scrollbar-width:none}
.chips::-webkit-scrollbar{display:none}
.chip{white-space:nowrap;padding:8px 16px;border-radius:22px;border:2px solid var(--border);background:white;font-size:12px;font-weight:700;cursor:pointer;font-family:'Heebo',sans-serif;color:var(--text-mid);transition:all .2s;box-shadow:0 2px 6px rgba(0,0,0,.06)}
.chip:active{transform:scale(.96)}
.chip.on{background:var(--bark);color:white;border-color:var(--bark);box-shadow:0 4px 10px rgba(62,42,28,.28)}
.vcard{background:white;border:2px solid var(--border);border-radius:var(--r);margin-bottom:16px;box-shadow:var(--shadow);overflow:hidden;transition:transform .2s}
.vcard:active{transform:scale(.99)}
.vcard-photo{width:100%;height:200px;overflow:hidden;background:var(--parchment);display:flex;align-items:center;justify-content:center;font-size:72px;cursor:pointer;position:relative}
.vcard-photo img{width:100%;height:100%;object-fit:cover}
.photo-count{position:absolute;bottom:12px;left:12px;background:rgba(30,20,10,.68);color:white;font-size:11px;font-weight:800;padding:5px 12px;border-radius:10px;backdrop-filter:blur(6px);font-family:'Heebo',sans-serif}
.photo-status{position:absolute;top:12px;right:12px;padding:6px 14px;border-radius:22px;font-size:11px;font-weight:900;backdrop-filter:blur(8px);font-family:'Heebo',sans-serif}
.ps-flowering{background:rgba(74,107,42,.88);color:white}
.ps-seeding{background:rgba(180,120,10,.88);color:white}
.ps-dormant{background:rgba(100,90,80,.78);color:white}
.ps-selected{background:rgba(40,80,140,.88);color:white}
.vcard-body{padding:16px 18px 14px}
.vcard-name{font-size:17px;font-weight:900;color:var(--bark);margin-bottom:5px;line-height:1.3;font-family:'Heebo',sans-serif}
.vcard-type{display:flex;align-items:center;gap:8px;margin-bottom:12px;flex-wrap:wrap}
.type-pill{display:inline-flex;align-items:center;gap:5px;padding:4px 12px;border-radius:14px;font-size:11px;font-weight:800;font-family:'Heebo',sans-serif}
.tp-ran{background:#fde8d8;color:#8B3010}
.tp-swe{background:#ead5f0;color:#5B2D80}
.tp-cal{background:#fef5e0;color:#8B6000}
.tp-oth{background:#e8f0d8;color:#3A5A10}
.color-sw{width:18px;height:18px;border-radius:50%;border:2.5px solid rgba(0,0,0,.14);flex-shrink:0;box-shadow:0 2px 4px rgba(0,0,0,.08)}
.vcard-details{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px}
.vcd-item{background:var(--cream);border-radius:10px;padding:9px 12px;border:1px solid var(--border)}
.vcd-label{font-size:10px;font-weight:800;color:var(--text-soft);text-transform:uppercase;letter-spacing:.5px;font-family:'Heebo',sans-serif}
.vcd-val{font-size:13px;font-weight:700;color:var(--text-mid);margin-top:3px}
.stars{color:var(--amber);font-size:17px;letter-spacing:2px}
.traits-row{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}
.trait-tag{background:var(--parchment);color:var(--bark-mid);font-size:11px;font-weight:700;padding:4px 10px;border-radius:10px;border:1px solid var(--border);font-family:'Heebo',sans-serif}
.vcard-actions{display:flex;gap:9px;padding:12px 16px 14px;border-top:2px solid var(--linen);background:linear-gradient(to bottom,var(--parchment) 0%,#F8F0E0 100%)}
.cta{flex:1;padding:11px 8px;border:none;border-radius:11px;font-size:12px;font-weight:800;cursor:pointer;font-family:'Heebo',sans-serif;transition:transform .15s;display:flex;align-items:center;justify-content:center;gap:4px;box-shadow:0 2px 6px rgba(0,0,0,.10)}
.cta:active{transform:scale(.96)}
.cta-bark{background:var(--bark);color:white}
.cta-sel{background:var(--sky);color:white}
.cta-gold{background:var(--amber);color:white}
.cta-outline{background:white;color:var(--bark);border:2px solid var(--border)}
.empty{text-align:center;padding:56px 22px;background:white;border-radius:var(--r);border:2px solid var(--border);box-shadow:var(--shadow)}
.empty-ic{font-size:60px;margin-bottom:18px}
.empty h3{font-size:17px;font-weight:900;color:var(--bark);margin-bottom:9px;font-family:'Heebo',sans-serif}
.empty p{font-size:14px;color:var(--text-soft);line-height:1.8}
.fab{position:fixed;bottom:92px;left:20px;width:64px;height:64px;border-radius:32px;background:linear-gradient(135deg,var(--rust) 0%,#D4750A 100%);color:white;font-size:34px;display:flex;align-items:center;justify-content:center;border:none;box-shadow:var(--shadow-lg);cursor:pointer;z-index:200;transition:transform .2s}
.fab:active{transform:scale(.92)}
.bnav{position:fixed;bottom:0;left:0;right:0;background:white;display:flex;border-top:2px solid var(--border);padding:9px 0 13px;z-index:100;box-shadow:0 -4px 18px rgba(0,0,0,.10)}
.bni{flex:1;text-align:center;cursor:pointer;color:var(--text-soft);transition:color .2s}
.bni.on{color:var(--bark)}
.bni-ic{font-size:23px}
.bni-lb{font-size:10px;font-weight:800;margin-top:3px;font-family:'Heebo',sans-serif;letter-spacing:.3px}
.overlay{display:none;position:fixed;inset:0;background:rgba(20,12,5,.54);z-index:500;align-items:flex-end}
.overlay.on{display:flex}
.sheet{background:var(--cream);border-radius:24px 24px 0 0;width:100%;max-height:95vh;overflow-y:auto;padding:22px 20px 40px;animation:up .3s ease;box-shadow:0 -10px 40px rgba(0,0,0,.3)}
@keyframes up{from{transform:translateY(100%)}to{transform:translateY(0)}}
.sh-handle{width:42px;height:5px;background:var(--border);border-radius:3px;margin:0 auto 22px}
.sh-title{font-size:19px;font-weight:900;color:var(--bark);margin-bottom:22px;font-family:'Heebo',sans-serif}
.fg{margin-bottom:15px}
.fl{display:block;font-size:11px;font-weight:800;color:var(--text-soft);margin-bottom:7px;text-transform:uppercase;letter-spacing:.6px;font-family:'Heebo',sans-serif}
.fi,.fs,.ft{width:100%;padding:13px 15px;border:2px solid var(--border);border-radius:11px;font-size:15px;font-family:'Assistant',sans-serif;background:white;color:var(--text);font-weight:500;box-shadow:0 2px 6px rgba(0,0,0,.05)}
.fi:focus,.fs:focus,.ft:focus{outline:none;border-color:var(--clay);box-shadow:0 4px 12px rgba(0,0,0,.10)}
.ft{min-height:76px;resize:vertical;line-height:1.6}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:13px}
.cam-zone{border:2px dashed var(--border);border-radius:14px;padding:24px;text-align:center;cursor:pointer;background:var(--parchment);transition:all .2s}
.cam-zone:active{border-color:var(--clay)}
.cam-ic{font-size:44px;margin-bottom:4px}
.cam-txt{font-size:13px;color:var(--text-soft);margin-top:9px;line-height:1.6;font-weight:600}
.cam-btns{display:flex;gap:10px;margin-top:14px;justify-content:center}
.cam-btn{padding:9px 18px;border:2px solid var(--border);border-radius:10px;font-size:13px;font-weight:700;cursor:pointer;font-family:'Heebo',sans-serif;background:white;color:var(--bark-mid);transition:all .2s;box-shadow:0 2px 6px rgba(0,0,0,.06)}
.cam-btn:active{transform:scale(.96)}
.cam-btn input{display:none}
.pgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:9px;margin-top:12px}
.pgi{aspect-ratio:1;border-radius:10px;overflow:hidden;position:relative;background:var(--parchment);border:2px solid var(--border)}
.pgi img{width:100%;height:100%;object-fit:cover}
.pgdel{position:absolute;top:5px;right:5px;background:rgba(0,0,0,.62);color:white;border:none;border-radius:50%;width:24px;height:24px;font-size:12px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px rgba(0,0,0,.3)}
.crow{display:flex;flex-wrap:wrap;gap:11px}
.csw{width:38px;height:38px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:transform .15s;box-shadow:0 2px 6px rgba(0,0,0,.10)}
.csw.on{border-color:var(--bark);transform:scale(1.2);box-shadow:0 4px 12px rgba(0,0,0,.20)}
.rrow{display:flex;gap:7px;font-size:36px;cursor:pointer}
.rstar{color:var(--border);transition:color .15s}.rstar.on{color:var(--amber)}
.gps-row{display:flex;justify-content:space-between;align-items:center;background:white;border:2px solid var(--border);border-radius:11px;padding:12px 15px;box-shadow:0 2px 6px rgba(0,0,0,.05)}
.gps-lbl strong{display:block;font-size:14px;color:var(--text);margin-bottom:3px;font-family:'Heebo',sans-serif;font-weight:800}
.gps-lbl{font-size:12px;color:var(--text-soft);font-weight:600}
.gps-acc{font-size:10px;margin-top:3px;font-weight:700;font-family:'Heebo',sans-serif}
.gps-acc.good{color:var(--leaf)}.gps-acc.ok{color:var(--amber)}.gps-acc.bad{color:var(--rust)}
.gps-btn{background:var(--bark);color:white;border:none;border-radius:10px;padding:9px 14px;font-size:12px;font-weight:800;font-family:'Heebo',sans-serif;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.15);transition:transform .15s}
.gps-btn:active{transform:scale(.96)}
.divider{height:2px;background:linear-gradient(to right,transparent,var(--border),transparent);margin:18px 0;border-radius:1px}
.macts{display:flex;gap:11px;margin-top:22px}
.mact{flex:1;padding:15px;border:none;border-radius:12px;font-size:15px;font-weight:900;cursor:pointer;font-family:'Heebo',sans-serif;box-shadow:0 3px 10px rgba(0,0,0,.12);transition:transform .15s}
.mact:active{transform:scale(.97)}
.mact-save{background:linear-gradient(135deg,var(--bark) 0%,var(--bark-mid) 100%);color:white;flex:2}
.mact-cancel{background:var(--parchment);color:var(--bark-mid);border:2px solid var(--border)}
.toast{position:fixed;top:20px;left:50%;transform:translateX(-50%) translateY(-90px);background:var(--bark);color:white;padding:11px 22px;border-radius:22px;font-size:13px;font-weight:800;z-index:1000;transition:transform .25s;white-space:nowrap;box-shadow:var(--shadow-lg);font-family:'Heebo',sans-serif}
.toast.on{transform:translateX(-50%) translateY(0)}
